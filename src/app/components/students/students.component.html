<div class="d-flex flex-column gap-4 justify-content-center align-items-center">
  <div class="card w-100">
    <div class="card-body">
      <app-table
        [isLoading]="loading"
        [total]="total"
        [headers]="headers"
        [data]="students"
        [totalRecords]="totalRecords"
        (sort)="onSort($event)"
        (pageChange)="changePage($event)"
        (onSearch)="search($event)"
        (onAdd)="onAdd()"
      >
        <tr body *ngFor="let student of students">
          <td *ngIf="!loading">{{ student.name }}</td>
          <td *ngIf="!loading">{{ student.jlptLevel }}</td>
          <td *ngIf="!loading">{{ student.teacherDTO.name }}</td>
          <td *ngIf="!loading">
            <div class="d-flex justify-content-end gap-2 align-items-center">
              <i class="fas fa-eye icon-eye-color" (click)="toStudentDetail(student)" [pTooltip]="'Ver detalle'" [tooltipPosition]="'top'"></i>
              <i class="fa-solid fa-pen icon-pen-color" (click)="onUpdate(student)" [pTooltip]="'Actualizar'" [tooltipPosition]="'top'"></i>
              <i class="fa-solid fa-trash-can icon-trash-color" (click)="displayDestroyModal(student)" [pTooltip]="'Borrar'" [tooltipPosition]="'top'"></i>
            </div>
          </td>
        </tr>
      </app-table>
    </div>
  </div>
</div>

<app-modal 
  [title]="'Eliminar estudiante'" 
  [isVisible]="displayDestroyStudentModal" 
  [isLoading]="modalButtonLoading" 
  [minWidth]="{ width: '46vw' }" 
  [isModal]="true" 
  (onCancel)="hideDestroyModal()"
  (onAccept)="destroyStudent()"
>
  <div body>
    <h3 class="text-center" *ngIf="studentToDestroy"> {{ "Desea eliminar a " + studentToDestroy.name + " ?"}} </h3>
  </div>
</app-modal>